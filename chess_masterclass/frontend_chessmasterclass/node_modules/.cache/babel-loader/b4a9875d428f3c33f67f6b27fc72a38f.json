{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useParams,useNavigate}from'react-router-dom';import{alertMsg}from'../../utils/utlis';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfileName=function EditProfileName(){var navigate=useNavigate();var username=useParams().username;var changeName=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var btnToBlock,response,status;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:btnToBlock=document.querySelector('#btn-submit-name');btnToBlock.disabled=true;e.preventDefault();_context.next=5;return fetch(\"http://127.0.0.1:8000/member/api/edit/\".concat(username),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({'operation':'name-edit','first_name':e.target.fname.value,'last_name':e.target.lname.value})});case 5:response=_context.sent;_context.next=8;return response.json();case 8:status=_context.sent;if(response.status===200){navigate(\"/profile/\".concat(username));localStorage.setItem('success msg','Profile name has been successfully changed.');}else{alertMsg('edit-name',status['Response msg'],'btn-submit-name');}btnToBlock.disabled=false;case 11:case\"end\":return _context.stop();}}},_callee);}));return function changeName(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{width:'20rem',paddingTop:'3rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Change your name\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:changeName,id:\"edit-name\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-outline\",id:\"fname\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"form2Example2\",type:\"text\",className:\"form-control\",name:\"fname\",placeholder:\"Enter first name\"}),/*#__PURE__*/_jsx(\"label\",{id:\"fname-ID\",className:\"form-label\",htmlFor:\"form2Example2\",children:\"Enter first name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-outline\",id:\"lname\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"form2Example2\",type:\"text\",className:\"form-control\",name:\"lname\",placeholder:\"Enter last name\"}),/*#__PURE__*/_jsx(\"label\",{id:\"lname-ID\",className:\"form-label\",htmlFor:\"form2Example2\",children:\"Enter last name\"})]}),/*#__PURE__*/_jsx(\"button\",{id:\"btn-submit-name\",type:\"submit\",className:\"btn btn-primary btn-block\",children:\"Edit name\"})]})]});};export default EditProfileName;","map":{"version":3,"names":["React","useParams","useNavigate","alertMsg","EditProfileName","navigate","username","changeName","e","btnToBlock","document","querySelector","disabled","preventDefault","fetch","method","headers","body","JSON","stringify","target","fname","value","lname","response","json","status","localStorage","setItem","width","paddingTop"],"sources":["C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/src/pages/profile_edit/EditProfileName.js"],"sourcesContent":["import React from 'react'\r\nimport {\r\n    useParams, \r\n    useNavigate,\r\n       \r\n} from 'react-router-dom'\r\nimport {alertMsg} from '../../utils/utlis'\r\n\r\n\r\nconst EditProfileName = () => {\r\n\r\n    const navigate = useNavigate()\r\n    let username = useParams().username \r\n\r\n\r\n    let changeName = async (e)  => {\r\n        let btnToBlock = document.querySelector('#btn-submit-name')  \r\n        btnToBlock.disabled = true\r\n        e.preventDefault()\r\n\r\n        let response = await fetch(`http://127.0.0.1:8000/member/api/edit/${username}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                'operation': 'name-edit',\r\n                'first_name': e.target.fname.value,\r\n                'last_name': e.target.lname.value,\r\n            })\r\n        })\r\n        let status = await response.json()\r\n\r\n        if(response.status === 200){\r\n            navigate(`/profile/${username}`)\r\n            localStorage.setItem('success msg', 'Profile name has been successfully changed.')\r\n        }else{\r\n            alertMsg('edit-name', status['Response msg'], 'btn-submit-name')\r\n        }\r\n        btnToBlock.disabled = false\r\n\r\n        \r\n    }\r\n\r\n  return (\r\n    <div className='container' style={{width: '20rem',paddingTop:'3rem',}}>\r\n        <h3>Change your name</h3>\r\n        <form onSubmit={changeName} id='edit-name'>\r\n            <div className=\"form-outline\" id='fname'>\r\n                <input id='form2Example2' type=\"text\" className=\"form-control\" name=\"fname\" placeholder=\"Enter first name\"/>\r\n                <label id='fname-ID' className=\"form-label\" htmlFor=\"form2Example2\">Enter first name</label>\r\n            </div>\r\n            <div className=\"form-outline\" id='lname'>\r\n                <input id='form2Example2' type=\"text\" className=\"form-control\" name=\"lname\" placeholder=\"Enter last name\"/>\r\n                <label id='lname-ID' className=\"form-label\" htmlFor=\"form2Example2\">Enter last name</label>\r\n            </div>\r\n            <button id='btn-submit-name' type=\"submit\" className=\"btn btn-primary btn-block\" >Edit name</button>\r\n            \r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditProfileName"],"mappings":"oXAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OACIC,SADJ,CAEIC,WAFJ,KAIO,kBAJP,CAKA,OAAQC,QAAR,KAAuB,mBAAvB,C,wFAGA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAE1B,GAAMC,SAAQ,CAAGH,WAAW,EAA5B,CACA,GAAII,SAAQ,CAAGL,SAAS,GAAGK,QAA3B,CAGA,GAAIC,WAAU,4FAAG,iBAAOC,CAAP,mJACTC,UADS,CACIC,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CADJ,CAEbF,UAAU,CAACG,QAAX,CAAsB,IAAtB,CACAJ,CAAC,CAACK,cAAF,GAHa,sBAKQC,MAAK,iDAA0CR,QAA1C,EAAsD,CAC5ES,MAAM,CAAE,MADoE,CAE5EC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFmE,CAK5EC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB,YAAa,WADI,CAEjB,aAAcX,CAAC,CAACY,MAAF,CAASC,KAAT,CAAeC,KAFZ,CAGjB,YAAad,CAAC,CAACY,MAAF,CAASG,KAAT,CAAeD,KAHX,CAAf,CALsE,CAAtD,CALb,QAKTE,QALS,qCAgBMA,SAAQ,CAACC,IAAT,EAhBN,QAgBTC,MAhBS,eAkBb,GAAGF,QAAQ,CAACE,MAAT,GAAoB,GAAvB,CAA2B,CACvBrB,QAAQ,oBAAaC,QAAb,EAAR,CACAqB,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoC,6CAApC,EACH,CAHD,IAGK,CACDzB,QAAQ,CAAC,WAAD,CAAcuB,MAAM,CAAC,cAAD,CAApB,CAAsC,iBAAtC,CAAR,CACH,CACDjB,UAAU,CAACG,QAAX,CAAsB,KAAtB,CAxBa,uDAAH,kBAAVL,WAAU,4CAAd,CA6BF,mBACE,aAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAACsB,KAAK,CAAE,OAAR,CAAgBC,UAAU,CAAC,MAA3B,CAAlC,wBACI,wCADJ,cAEI,cAAM,QAAQ,CAAEvB,UAAhB,CAA4B,EAAE,CAAC,WAA/B,wBACI,aAAK,SAAS,CAAC,cAAf,CAA8B,EAAE,CAAC,OAAjC,wBACI,cAAO,EAAE,CAAC,eAAV,CAA0B,IAAI,CAAC,MAA/B,CAAsC,SAAS,CAAC,cAAhD,CAA+D,IAAI,CAAC,OAApE,CAA4E,WAAW,CAAC,kBAAxF,EADJ,cAEI,cAAO,EAAE,CAAC,UAAV,CAAqB,SAAS,CAAC,YAA/B,CAA4C,OAAO,CAAC,eAApD,8BAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,cAAf,CAA8B,EAAE,CAAC,OAAjC,wBACI,cAAO,EAAE,CAAC,eAAV,CAA0B,IAAI,CAAC,MAA/B,CAAsC,SAAS,CAAC,cAAhD,CAA+D,IAAI,CAAC,OAApE,CAA4E,WAAW,CAAC,iBAAxF,EADJ,cAEI,cAAO,EAAE,CAAC,UAAV,CAAqB,SAAS,CAAC,YAA/B,CAA4C,OAAO,CAAC,eAApD,6BAFJ,GALJ,cASI,eAAQ,EAAE,CAAC,iBAAX,CAA6B,IAAI,CAAC,QAAlC,CAA2C,SAAS,CAAC,2BAArD,uBATJ,GAFJ,GADF,CAiBD,CApDD,CAsDA,cAAeH,gBAAf"},"metadata":{},"sourceType":"module"}