{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tomas\\\\Desktop\\\\chess-masterclass\\\\backend\\\\chess_masterclass\\\\chessmasterclass\\\\src\\\\components\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { UserContext } from '../context/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  let {\n    userInfo\n  } = useContext(UserContext);\n  let {\n    logout\n  } = useContext(UserContext);\n  console.log({\n    userInfo\n  }); // \n\n  var user = '{{request.user}}';\n\n  function getToken(name) {\n    let cookieValue = null;\n\n    if (document.cookie && document.cookie !== '') {\n      const cookies = document.cookie.split(';');\n\n      for (let i = 0; i < cookies.length; i++) {\n        const cookie = cookies[i].trim();\n\n        if (cookie.substring(0, name.length + 1) === name + '=') {\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n          break;\n        }\n      }\n    }\n\n    return cookieValue;\n  }\n\n  const csrftoken = getToken('csrftoken');\n\n  let sendTokens = () => {\n    // const url =  \"{% url 'edit-profile-api' %}\"\n    const url = \"http://127.0.0.1:8000/member/edit/api\";\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrftoken\n      },\n      body: JSON.stringify(localStorage.getItem('authTokens'))\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Hello \", userInfo.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), userInfo.username ? /*#__PURE__*/_jsxDEV(\"a\", {\n      onClick: logout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 30\n    }, this) : /*#__PURE__*/_jsxDEV(Link, {\n      to: '/login',\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 63\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: '/',\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Chess masterclass\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      onClick: sendTokens,\n      href: \"http://127.0.0.1:8000/member/edit/\",\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Header, \"rHk44zlvMgHZdV5wjuU0fWQLoLE=\");\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useContext","useParams","Link","UserContext","Header","userInfo","logout","console","log","user","getToken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","csrftoken","sendTokens","url","fetch","method","headers","body","JSON","stringify","localStorage","getItem","username"],"sources":["C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/chessmasterclass/src/components/Header.js"],"sourcesContent":["import React, {useContext} from 'react'\r\nimport {\r\n    useParams,\r\n    Link\r\n} from 'react-router-dom'\r\nimport {UserContext} from '../context/UserContext'\r\n\r\nconst Header = () => {\r\n  let {userInfo} = useContext(UserContext)\r\n  let {logout} = useContext(UserContext)\r\n  console.log({userInfo})\r\n\r\n  // \r\n  var user = '{{request.user}}'\r\n    function getToken(name) {\r\n        let cookieValue = null;\r\n        if (document.cookie && document.cookie !== '') {\r\n            const cookies = document.cookie.split(';');\r\n            for (let i = 0; i < cookies.length; i++) {\r\n                const cookie = cookies[i].trim();\r\n                if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return cookieValue;\r\n    }\r\n    const csrftoken = getToken('csrftoken');\r\n\r\n    let sendTokens = () =>{\r\n          // const url =  \"{% url 'edit-profile-api' %}\"\r\n          const url =  \"http://127.0.0.1:8000/member/edit/api\"\r\n          fetch(url, {\r\n              method:'POST',\r\n              headers:{\r\n                  'Content-Type':'application/json',\r\n                  'X-CSRFToken': csrftoken,\r\n              },\r\n              body:JSON.stringify(localStorage.getItem('authTokens'))\r\n          })\r\n          \r\n      }\r\n      \r\n\r\n\r\n  return (\r\n    <div>\r\n      <p>Hello {userInfo.username}</p>\r\n        {userInfo.username ? <a onClick={logout}>Logout</a> : <Link to={'/login'}>Login</Link>}\r\n        <Link to={'/'}>\r\n            <h1>Chess masterclass</h1>\r\n        </Link>\r\n\r\n        <a onClick={sendTokens} href='http://127.0.0.1:8000/member/edit/'>Edit</a>\r\n\r\n        \r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AACA,SACIC,SADJ,EAEIC,IAFJ,QAGO,kBAHP;AAIA,SAAQC,WAAR,QAA0B,wBAA1B;;;AAEA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACnB,IAAI;IAACC;EAAD,IAAaL,UAAU,CAACG,WAAD,CAA3B;EACA,IAAI;IAACG;EAAD,IAAWN,UAAU,CAACG,WAAD,CAAzB;EACAI,OAAO,CAACC,GAAR,CAAY;IAACH;EAAD,CAAZ,EAHmB,CAKnB;;EACA,IAAII,IAAI,GAAG,kBAAX;;EACE,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;IACpB,IAAIC,WAAW,GAAG,IAAlB;;IACA,IAAIC,QAAQ,CAACC,MAAT,IAAmBD,QAAQ,CAACC,MAAT,KAAoB,EAA3C,EAA+C;MAC3C,MAAMC,OAAO,GAAGF,QAAQ,CAACC,MAAT,CAAgBE,KAAhB,CAAsB,GAAtB,CAAhB;;MACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,OAAO,CAACG,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;QACrC,MAAMH,MAAM,GAAGC,OAAO,CAACE,CAAD,CAAP,CAAWE,IAAX,EAAf;;QACA,IAAIL,MAAM,CAACM,SAAP,CAAiB,CAAjB,EAAoBT,IAAI,CAACO,MAAL,GAAc,CAAlC,MAA0CP,IAAI,GAAG,GAArD,EAA2D;UACvDC,WAAW,GAAGS,kBAAkB,CAACP,MAAM,CAACM,SAAP,CAAiBT,IAAI,CAACO,MAAL,GAAc,CAA/B,CAAD,CAAhC;UACA;QACH;MACJ;IACJ;;IACD,OAAON,WAAP;EACH;;EACD,MAAMU,SAAS,GAAGZ,QAAQ,CAAC,WAAD,CAA1B;;EAEA,IAAIa,UAAU,GAAG,MAAK;IAChB;IACA,MAAMC,GAAG,GAAI,uCAAb;IACAC,KAAK,CAACD,GAAD,EAAM;MACPE,MAAM,EAAC,MADA;MAEPC,OAAO,EAAC;QACJ,gBAAe,kBADX;QAEJ,eAAeL;MAFX,CAFD;MAMPM,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAf;IANE,CAAN,CAAL;EASH,CAZH;;EAgBF,oBACE;IAAA,wBACE;MAAA,qBAAU3B,QAAQ,CAAC4B,QAAnB;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAEK5B,QAAQ,CAAC4B,QAAT,gBAAoB;MAAG,OAAO,EAAE3B,MAAZ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAApB,gBAAqD,QAAC,IAAD;MAAM,EAAE,EAAE,QAAV;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAF1D,eAGI,QAAC,IAAD;MAAM,EAAE,EAAE,GAAV;MAAA,uBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAHJ,eAOI;MAAG,OAAO,EAAEiB,UAAZ;MAAwB,IAAI,EAAC,oCAA7B;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAPJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAcD,CArDD;;GAAMnB,M;;KAAAA,M;AAuDN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}