{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ForgotPass=function ForgotPass(){// alerts\nfunction alert(text,id){var alertDiv=document.querySelector(\"#\".concat(id));var msg=document.createElement('p');var btn=document.querySelector('#btn-submit');msg.innerText=text;msg.style.color='red';alertDiv.appendChild(msg);btn.disabled=true;setTimeout(function(){alertDiv.removeChild(msg);btn.disabled=false;},2000);}var sendNewUserKey=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!e.target.username.value&&!e.target.email.value)){_context.next=5;break;}alert('At least one field must be filled!','edit-pass');_context.next=13;break;case 5:_context.next=7;return fetch(\"http://127.0.0.1:8000/member/api/forgot-pass/send\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({'operation':'send-new-key','username':e.target.username.value,'email':e.target.email.value})});case 7:response=_context.sent;_context.next=10;return response.json();case 10:data=_context.sent;console.log(data);if(response.status===200){alert(data['Response msg'],'edit-pass');}else{alert(data['Response msg'],'edit-pass');}case 13:case\"end\":return _context.stop();}}},_callee);}));return function sendNewUserKey(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{width:'20rem',paddingTop:'3rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Fill username or email address\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:sendNewUserKey,id:\"edit-pass\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-outline\",id:\"username\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"username\",type:\"text\",className:\"form-control\",name:\"username\",placeholder:\"Enter Username\"}),/*#__PURE__*/_jsx(\"label\",{id:\"username-ID\",className:\"form-label\",htmlFor:\"username\",children:\"Enter Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-outline\",id:\"email\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",className:\"form-control\",name:\"email\",placeholder:\"Enter email address\"}),/*#__PURE__*/_jsx(\"label\",{id:\"email-ID\",className:\"form-label\",htmlFor:\"email\",children:\"Enter email address\"})]}),/*#__PURE__*/_jsx(\"button\",{id:\"btn-submit\",type:\"submit\",className:\"btn btn-primary btn-block\",children:\"Send email with key\"})]})]});};export default ForgotPass;","map":{"version":3,"names":["React","ForgotPass","alert","text","id","alertDiv","document","querySelector","msg","createElement","btn","innerText","style","color","appendChild","disabled","setTimeout","removeChild","sendNewUserKey","e","preventDefault","target","username","value","email","fetch","method","headers","body","JSON","stringify","response","json","data","console","log","status","width","paddingTop"],"sources":["C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/src/pages/ForgotPass.js"],"sourcesContent":["import React from 'react'\r\n\r\nconst ForgotPass = () => {\r\n\r\n    // alerts\r\n    function alert(text, id){\r\n        let alertDiv = document.querySelector(`#${id}`)\r\n        let msg = document.createElement('p')            \r\n        let btn = document.querySelector('#btn-submit')\r\n\r\n        msg.innerText = text\r\n        msg.style.color = 'red'\r\n        alertDiv.appendChild(msg)        \r\n        btn.disabled = true\r\n        setTimeout(() => {\r\n            alertDiv.removeChild(msg);\r\n            btn.disabled = false\r\n          }, 2000)        \r\n    }\r\n\r\n    let sendNewUserKey = async (e)  => {\r\n        e.preventDefault()\r\n\r\n        if(!e.target.username.value && !e.target.email.value){\r\n            alert('At least one field must be filled!', 'edit-pass')\r\n            \r\n        }else{\r\n            let response = await fetch(`http://127.0.0.1:8000/member/api/forgot-pass/send`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                'operation': 'send-new-key',\r\n                'username': e.target.username.value,\r\n                'email': e.target.email.value,\r\n            })\r\n            })\r\n            let data = await response.json()\r\n            console.log(data)\r\n\r\n            if(response.status === 200){\r\n                alert(data['Response msg'], 'edit-pass')\r\n                        \r\n            }else{\r\n                alert(data['Response msg'], 'edit-pass')\r\n            }\r\n        }  \r\n        \r\n    }\r\n\r\n  return (  \r\n\r\n    <div className='container' style={{width: '20rem',paddingTop:'3rem',}}>\r\n        <h3>Fill username or email address</h3>\r\n        <form onSubmit={sendNewUserKey} id='edit-pass'>\r\n            <div className=\"form-outline\" id='username'>\r\n                <input id='username' type=\"text\" className=\"form-control\" name=\"username\" placeholder=\"Enter Username\"/>\r\n                <label id='username-ID' className=\"form-label\" htmlFor=\"username\">Enter Username</label>\r\n            </div>\r\n            <div className=\"form-outline\" id='email'>\r\n                <input id='email' type=\"email\" className=\"form-control\" name=\"email\" placeholder=\"Enter email address\"/>\r\n                <label id='email-ID' className=\"form-label\" htmlFor=\"email\">Enter email address</label>\r\n            </div>\r\n            \r\n            <button id='btn-submit' type=\"submit\" className=\"btn btn-primary btn-block\" >Send email with key</button>\r\n            \r\n        </form>\r\n\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgotPass"],"mappings":"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"},"metadata":{},"sourceType":"module"}