{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import CourseListItem from'./CourseListItem';import{useLocation,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";export var CoursesList=function CoursesList(props){var location=useLocation();var page=useParams().page;// create empty list of courses with can be overwrtten\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),coursesList=_useState2[0],setCoursesList=_useState2[1];// function which call for api port with list of all courses\nvar coursesGET=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://127.0.0.1:8000/api/courses/\".concat(props.sort_by,\"/\").concat(props.filter,\"/\").concat(props.search,\"/\").concat(props.page));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;console.log(data.data);setCoursesList(data.data);// if(location.pathname === '/'){\n//     let response = await fetch(`http://127.0.0.1:8000/api/courses/page/${props.page}`)\n//     let data = await response.json()\n//     setCoursesList(data)\n// }else{\n//     let response = await fetch(`http://127.0.0.1:8000/api/courses/page/${props.page}`)\n//     let data = await response.json()\n//     setCoursesList(data)            \n// } \n// }     \ncase 8:case\"end\":return _context.stop();}}},_callee);}));return function coursesGET(){return _ref.apply(this,arguments);};}();// effect function to check if there is an API call possible\nuseEffect(function(){coursesGET();},[props.filter,props.page,props.sort_by,props.search]);return/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-md-4 g-4\",children:coursesList.map(function(course,index){return/*#__PURE__*/_jsx(CourseListItem,{name:course.name,body:course.body,price:course.price,id:course.id,slug:course.slug,premiumPlan:course.premiumPlan,representChessTable:course.representationChessBoard},index);})});};","map":{"version":3,"names":["React","useState","useEffect","CourseListItem","useLocation","useParams","CoursesList","props","location","page","coursesList","setCoursesList","coursesGET","fetch","sort_by","filter","search","response","json","data","console","log","map","course","index","name","body","price","id","slug","premiumPlan","representationChessBoard"],"sources":["C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/src/components/CoursesList.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport CourseListItem from './CourseListItem'\r\nimport { useLocation, useParams  } from 'react-router-dom'\r\n\r\n\r\nexport const CoursesList = (props) => {\r\n    let location = useLocation()\r\n    let page = useParams().page\r\n\r\n    // create empty list of courses with can be overwrtten\r\n    let [coursesList, setCoursesList] = useState([])\r\n\r\n    // function which call for api port with list of all courses\r\n    let coursesGET = async () => {\r\n        // if(props.filter){\r\n        //     let response = await fetch(`http://127.0.0.1:8000/api/courses/filter/free`)\r\n        //     let data = await response.json()\r\n        //     setCoursesList(data)\r\n        // }else{\r\n        // let filterPath = 'filter'\r\n        // for (let key in props.filter){\r\n        //     if(props.filter[key]){\r\n        //         filterPath = filterPath + `;${key}`\r\n        //     }            \r\n        //   }\r\n        // console.log(filterPath)\r\n\r\n        let response = await fetch(`http://127.0.0.1:8000/api/courses/${props.sort_by}/${props.filter}/${props.search}/${props.page}`)\r\n        let data = await response.json()\r\n        console.log(data.data)\r\n        setCoursesList(data.data)\r\n        \r\n\r\n        // if(location.pathname === '/'){\r\n        //     let response = await fetch(`http://127.0.0.1:8000/api/courses/page/${props.page}`)\r\n        //     let data = await response.json()\r\n        //     setCoursesList(data)\r\n        // }else{\r\n        //     let response = await fetch(`http://127.0.0.1:8000/api/courses/page/${props.page}`)\r\n        //     let data = await response.json()\r\n        //     setCoursesList(data)            \r\n        // } \r\n        // }     \r\n    }\r\n\r\n    \r\n\r\n    // effect function to check if there is an API call possible\r\n    useEffect(() => {\r\n        coursesGET()\r\n    }, [props.filter, props.page, props.sort_by, props.search])\r\n    \r\n  return (\r\n    <div  className=\"row row-cols-1 row-cols-md-4 g-4\">\r\n        {coursesList.map((course, index) => (\r\n            <CourseListItem key={index} name={course.name} body={course.body} price={course.price} id={course.id} slug={course.slug} premiumPlan={course.premiumPlan} representChessTable={course.representationChessBoard}/>\r\n        ))}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"mappings":"siBAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,eAAP,KAA2B,kBAA3B,CACA,OAASC,WAAT,CAAsBC,SAAtB,KAAwC,kBAAxC,C,2CAGA,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAW,CAClC,GAAIC,SAAQ,CAAGJ,WAAW,EAA1B,CACA,GAAIK,KAAI,CAAGJ,SAAS,GAAGI,IAAvB,CAEA;AACA,cAAoCR,QAAQ,CAAC,EAAD,CAA5C,wCAAKS,WAAL,eAAkBC,cAAlB,eAEA;AACA,GAAIC,WAAU,4FAAG,6KAcQC,MAAK,6CAAsCN,KAAK,CAACO,OAA5C,aAAuDP,KAAK,CAACQ,MAA7D,aAAuER,KAAK,CAACS,MAA7E,aAAuFT,KAAK,CAACE,IAA7F,EAdb,QAcTQ,QAdS,qCAeIA,SAAQ,CAACC,IAAT,EAfJ,QAeTC,IAfS,eAgBbC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACA,IAAjB,EACAR,cAAc,CAACQ,IAAI,CAACA,IAAN,CAAd,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7Ba,sDAAH,kBAAVP,WAAU,0CAAd,CAkCA;AACAV,SAAS,CAAC,UAAM,CACZU,UAAU,GACb,CAFQ,CAEN,CAACL,KAAK,CAACQ,MAAP,CAAeR,KAAK,CAACE,IAArB,CAA2BF,KAAK,CAACO,OAAjC,CAA0CP,KAAK,CAACS,MAAhD,CAFM,CAAT,CAIF,mBACE,YAAM,SAAS,CAAC,kCAAhB,UACKN,WAAW,CAACY,GAAZ,CAAgB,SAACC,MAAD,CAASC,KAAT,qBACb,KAAC,cAAD,EAA4B,IAAI,CAAED,MAAM,CAACE,IAAzC,CAA+C,IAAI,CAAEF,MAAM,CAACG,IAA5D,CAAkE,KAAK,CAAEH,MAAM,CAACI,KAAhF,CAAuF,EAAE,CAAEJ,MAAM,CAACK,EAAlG,CAAsG,IAAI,CAAEL,MAAM,CAACM,IAAnH,CAAyH,WAAW,CAAEN,MAAM,CAACO,WAA7I,CAA0J,mBAAmB,CAAEP,MAAM,CAACQ,wBAAtL,EAAqBP,KAArB,CADa,EAAhB,CADL,EADF,CAQD,CAvDM"},"metadata":{},"sourceType":"module"}