{"ast":null,"code":"import _slicedToArray from\"C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect}from'react';import{Link}from'react-router-dom';// import { Link } from 'react-router-dom'\nimport{UserContext}from'../context/UserContext';import{checkCurrentPremiumPlan}from'../utils/utlis';import ChessBoard from'./ChessBoard';import{Chessboard}from\"react-chessboard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CourseListItem=function CourseListItem(props){var _useContext=useContext(UserContext),userInfo=_useContext.userInfo;// get body string - if it's too long => slice it!\nvar getBody=function getBody(props){var body=props.body;if(body.length>55){return body=body.slice(0,55)+'...';}else{return body;}};// get course price- if it's 0,00 => it's free!\nvar getPrice=function getPrice(props){var price=props.price;if(props.price==='0.00'){return price='FREE';}else{return price+'$';}};var _useState=useState(''),_useState2=_slicedToArray(_useState,2),premiumPlanName=_useState2[0],setPremiumPlanName=_useState2[1];var getPremiumPlan=function getPremiumPlan(props){var premiumPlansNames={'free':'Free','master':'Master','international master':'International Master','grandmaster':'Grandmaster'};// setPremiumPlanName(premiumPlansNames[props.premiumPlan])        \nreturn premiumPlansNames[props.premiumPlan];};// // chess table\n// let [chessTables, setChessTables] = useState([])\n// // function which call for api port with chess tables\n// let tablesGET = async () => {\n//     let response = await fetch(`http://127.0.0.1:8000/api/courses/${props.slug}/table`)\n//     let data = await response.json()\n//     setChessTables(data[0])\n// }\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),chessPos=_useState4[0],setChessPos=_useState4[1];var getChessPos=function getChessPos(){setChessPos(props.representChessTable);};var courseCartBtn=function courseCartBtn(props,userInfo){if(userInfo.user_acc_actv==='True'){if(checkCurrentPremiumPlan(props,userInfo)){return/*#__PURE__*/_jsx(Link,{to:\"/course/\".concat(props.slug),className:\"btn btn-success\",children:\"Check it out\"});}else{return/*#__PURE__*/_jsx(Link,{to:\"/premium-plans\",className:\"btn btn-secondary\",children:\"Buy access\"});}}else{return/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-primary\",children:\"Register\"});}};var chessCoordsParser=function chessCoordsParser(){var x=\"{a8: 'bR', a7: 'bP', a1:'wR', a2: 'wP'}\";// example\nvar parsedCoord={};var rootProcessing=props.coord.substring(1,x.length-1);var firstLevelSplit=rootProcessing.split(',');for(var i=0;i<firstLevelSplit.length;i++){var scdLevelSplit=firstLevelSplit[i].split(':');var key=scdLevelSplit[0].replace(/ /g,'').replace(/\"/g,'');var value=scdLevelSplit[1].replace(/ /g,'').replace(/'/g,'');parsedCoord[key]=value;}setChessPos(parsedCoord);};useEffect(function(){// getPremiumPlan()\n// console.log('what is type?: ' + typeof(props.representChessTable))\n},[chessPos]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",style:{paddingTop:'3rem'},children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{width:'18rem',height:'28rem'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",style:{height:'3rem'},children:props.name}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-title\",style:{height:'2.2rem'},children:[\"Premium Plan: \",getPremiumPlan(props)]}),/*#__PURE__*/_jsx(\"div\",{className:\"chessboard\",children:/*#__PURE__*/_jsx(ChessBoard,{coord:props.representChessTable,size:200})}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",style:{paddingTop:'0.5rem'},children:getBody(props)}),courseCartBtn(props,userInfo)]})})})});};export default CourseListItem;","map":{"version":3,"names":["React","useContext","useState","useEffect","Link","UserContext","checkCurrentPremiumPlan","ChessBoard","Chessboard","CourseListItem","props","userInfo","getBody","body","length","slice","getPrice","price","premiumPlanName","setPremiumPlanName","getPremiumPlan","premiumPlansNames","premiumPlan","chessPos","setChessPos","getChessPos","representChessTable","courseCartBtn","user_acc_actv","slug","chessCoordsParser","x","parsedCoord","rootProcessing","coord","substring","firstLevelSplit","split","i","scdLevelSplit","key","replace","value","paddingTop","width","height","name"],"sources":["C:/Users/tomas/Desktop/chess-masterclass/backend/chess_masterclass/frontend_chessmasterclass/src/components/CourseListItem.js"],"sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\r\nimport { Link } from 'react-router-dom'\r\n// import { Link } from 'react-router-dom'\r\nimport {UserContext} from '../context/UserContext'\r\nimport {checkCurrentPremiumPlan} from '../utils/utlis'\r\nimport ChessBoard from './ChessBoard'\r\nimport { Chessboard } from \"react-chessboard\";\r\n\r\n\r\nconst CourseListItem = (props) => {\r\n    let {userInfo} = useContext(UserContext)\r\n\r\n    // get body string - if it's too long => slice it!\r\n    let getBody = (props) => {\r\n        let body = props.body\r\n\r\n        if(body.length > 55){\r\n            return body = body.slice(0, 55) + '...'\r\n        }else{\r\n            return body\r\n        }    \r\n    }\r\n\r\n    // get course price- if it's 0,00 => it's free!\r\n    let getPrice = (props) => {\r\n        let price = props.price\r\n\r\n        if(props.price === '0.00'){\r\n            return price = 'FREE'\r\n        }else{\r\n            return price + '$'\r\n        }\r\n    }\r\n\r\n\r\n    let [premiumPlanName, setPremiumPlanName] = useState('')\r\n    let getPremiumPlan = (props) => {\r\n        let premiumPlansNames = {\r\n            'free': 'Free',\r\n            'master': 'Master',\r\n            'international master': 'International Master',\r\n            'grandmaster': 'Grandmaster'\r\n          }\r\n\r\n\r\n        // setPremiumPlanName(premiumPlansNames[props.premiumPlan])        \r\n        return premiumPlansNames[props.premiumPlan]\r\n    }\r\n\r\n    // // chess table\r\n    // let [chessTables, setChessTables] = useState([])\r\n    // // function which call for api port with chess tables\r\n    // let tablesGET = async () => {\r\n    //     let response = await fetch(`http://127.0.0.1:8000/api/courses/${props.slug}/table`)\r\n    //     let data = await response.json()\r\n    //     setChessTables(data[0])\r\n    // }\r\n    let [chessPos, setChessPos] = useState('')\r\n    \r\n    let getChessPos = () => {        \r\n        setChessPos(props.representChessTable)\r\n    }\r\n\r\n    \r\n    let courseCartBtn = (props, userInfo) => {\r\n        if(userInfo.user_acc_actv === 'True'){\r\n            if(checkCurrentPremiumPlan(props, userInfo)){\r\n                return <Link to={`/course/${props.slug}`} className=\"btn btn-success\">Check it out</Link>\r\n\r\n            }else{\r\n                return <Link to={`/premium-plans`} className=\"btn btn-secondary\">Buy access</Link>\r\n            }          \r\n        }else{\r\n            return <Link to={`/register`} className=\"btn btn-primary\">Register</Link>\r\n        }\r\n    }\r\n\r\n    let chessCoordsParser = () => {\r\n        let x = \"{a8: 'bR', a7: 'bP', a1:'wR', a2: 'wP'}\" // example\r\n        let parsedCoord = {}\r\n        let rootProcessing = props.coord.substring(1, x.length - 1)\r\n        let firstLevelSplit = rootProcessing.split(',')\r\n        for(let i = 0; i < firstLevelSplit.length; i++){\r\n            let scdLevelSplit = firstLevelSplit[i].split(':')\r\n            let key = scdLevelSplit[0].replace(/ /g, '').replace(/\"/g, '')     \r\n            let value = scdLevelSplit[1].replace(/ /g, '').replace(/'/g, '')       \r\n            parsedCoord[key] = value\r\n        }\r\n        setChessPos(parsedCoord)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        // getPremiumPlan()\r\n        // console.log('what is type?: ' + typeof(props.representChessTable))\r\n    },[chessPos])\r\n\r\n\r\n  return (\r\n\r\n    <div>                   \r\n        <div className=\"col-sm-6\" style={{paddingTop:'3rem'}}>\r\n            <div className=\"card\" style={{width: '18rem', height:'28rem',}}>\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\" style={{height:'3rem'}}>{props.name}</h5>\r\n                    <h6 className=\"card-title\" style={{height:'2.2rem'}}>Premium Plan: {getPremiumPlan(props)}</h6>\r\n                    <div className='chessboard'><ChessBoard coord={props.representChessTable} size={200} /></div>\r\n                    <p className=\"card-text\" style={{paddingTop:'0.5rem'}}>{getBody(props)}</p>\r\n                    {courseCartBtn(props, userInfo)}                     \r\n                            \r\n                </div>\r\n            </div>\r\n        </div>         \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CourseListItem"],"mappings":"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"},"metadata":{},"sourceType":"module"}